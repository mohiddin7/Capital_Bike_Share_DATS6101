---
title: "CaBi"
author: "TEAM SIM"
date: "2023-04-27"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
```
```{r}

library(ezids)
library(dplyr)
library(ggmap)
library(ggplot2)
library(tidyverse)
library(corrplot)
library(knitr)
library(kableExtra)
library(tidyr)
library(lubridate)
library(shiny)
library(igraph)
```


```{r}
# Read in "CaBi.csv" file as a data frame called "CaBi"
CaBi <- read.csv("CaBi.csv")
```
```{r}
# Displaying the first few rows of the "CaBi" data frame to check its contents and ensure that it was read in correctly.
head(CaBi)
```

```{r}
# citation("ggmap")
# register_google(key = "put api key here")
# 
# geocodes <- geocode(CaBi$start_station_name)
# 
# # merge the geocodes back into the original data
# CaBi <- cbind(CaBi,geocodes)
# 
# # create a map using ggmap
# CaBi_map <- get_map(location = "Washington D.C.", zoom = 12)
# 
# # create a dot map on the map
# ggmap(CaBi_map) +
#   geom_point(data = CaBi, aes(x = lon, y = lat, fill = my_var), alpha = 0.6, size = 5)

```

```{r}
# Checking for missing values and duplicates.
sum(is.na(CaBi))
sum(is.na(CaBi$holiday))



sum(duplicated(CaBi))


```
```{r}
sapply(CaBi, class)

summary(CaBi)
```


```{r}
CaBiO <- CaBi
CaBi$started_at <- strptime(CaBi$started_at,format="%Y-%m-%d",tz = "EST")
```
```{r}
# street_address <- unique(sort(CaBi$start_station_name))
# write.csv(street_address,"street_address.csv")



print(sum(CaBi$start_station_name==""))



subset(CaBi, start_station_name == "")[, c("noofbikes", "started_at","date","month","year")]

CaBi$start_station_name[CaBi$start_station_name == ""] <- NA

```
# The below code is for data cleaning and transformation of the `member_type` column in the "CaBi" data frame. It first displays unique values in the `member_type` column. Then it standardizes the capitalization of `casual` and `member` categories by replacing inconsistent values with lowercase. It counts the number of rows with the "Unknown" value in the `member_type` column and removes those rows from the data frame since they can't be classified. Finally, it converts the `member_type` column to a factor for efficient storage and analysis.

```{r}
unique(CaBi$member_type)


CaBi$member_type[CaBi$member_type == "Casual"] <- "casual"
CaBi$member_type[CaBi$member_type == "Member"] <- "member"

sum(CaBi$member_type == "Unknown")

CaBi <- CaBi[CaBi$member_type != "Unknown", ]

CaBi$member_type <- as.factor(CaBi$member_type)

```